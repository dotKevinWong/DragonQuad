<!DOCTYPE html>
<html>
<head>
	<title>Post a Product - DragonQuad</title>
    <h2>Post an Item</h2>
    <p>
    	Attach your files below. <br>
    	<em>Acceptable formats - <b>.png, .jpeg</b></em>
    </p>
</head>
<body>
	Product Title: <input type ="text" name="product name" id="productTitle"><br>
	Product Description: <br><textarea rows = "4" cols = "50" id="productDes"></textarea>
    <br>
	Price : <input type="text" name="product price" size = "3" id="productPrice">
    <br>
	<input type="file" value="upload" accept="image/*" id="fileButton">
    <br>
    <input type="checkbox"> I agree to all the Terms and Conditions
    <br>
	<button type="submit" class="btn btn-default" id="submitButton">Submit</button>
	
    <script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
	<script>
		// Initialize Firebase
		var config = {
            apiKey: "AIzaSyAzwi29rBFn2Tzp4riCWaLRvpGNaafGDqE",
            authDomain: "dragonquad-32573.firebaseapp.com",
            databaseURL: "https://dragonquad-32573.firebaseio.com",
            projectId: "dragonquad-32573",
            storageBucket: "dragonquad-32573.appspot.com",
            messagingSenderId: "240943759488"
		};
		firebase.initializeApp(config);
	</script>
	<script type="text/javascript">

		// get elements
        
		var fileButton = document.getElementById('fileButton');
     
        // Reference product in Database
        var productRef = firebase.database().ref().child('rentProducts');
        
        // GET
        $('#submitButton').click(function(){
            productRef.set({
                productTitle:$('#productTitle').val(),
                productDes:$('#productDes.val').val(),
                productPrice:$('#porductPrice').val(),
                
            })
        })
        
		// Listen for file selection
		// submitButton.addEventListener('click', function (e) {

			// output to console
			console.log('success. added to db ', e);

			// get file
			var file = e.target.files[0];

			// storage ref
			var storageRef = firebase.storage().ref('productImages/' + file.name);

			// upload file (POST command)
			var submit = storageRef.put(file); 

		});
	</script>
</body>
</html>